---
import BaseLayout from '../../layouts/BaseLayout.astro';
import manifest from '../../manifest.json';

export function getStaticPaths() {
  const routes = [];

  Object.keys(manifest).forEach(function (item) {
    routes.push( { params: { command: item } } );
  });

  return routes;
}

const { command } = Astro.params;

---
<BaseLayout>
  <div class="command">
    <h1>wp {manifest[command].title}</h1>
    <div class="caption">
      <p>{manifest[command].excerpt}</p>
    </div><!-- .caption -->

    {manifest[command].synopsis && <div class="synopsis"><p>{manifest[command].synopsis}</p></div>}
    <div style="white-space: pre-line">{manifest[command].description}</div>
  </div><!-- .command -->
</BaseLayout>
